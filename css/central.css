:root {
  --card-width-full: 229px;
  --card-height-full: 318px;
  --card-padding-full: 10px;
  --gap-full: 30px;
  --card-scale: 1;
  --card-width: calc(var(--card-width-full) * var(--card-scale));
  --card-height: calc(var(--card-height-full) * var(--card-scale));
  --card-padding: calc(var(--card-padding-full) * var(--card-scale));
  --gap: calc(var(--gap-full) * var(--card-scale));
}

body {
  /* Avoid jiggling as a scrollbar is added */
  overflow-y: scroll;
}

body:has(dialog[open]) {
  /* Prevent accidental background scrolling when a dialog is open */
  overflow: hidden;
}

menu {
  margin: 0;
}

.draw-pile {
  position: absolute;
}

.draw-pile:hover {
  filter: brightness(120%);
  transform: scale(1.05);
}

.draw-animation {
  position: absolute;
  animation-timing-function: linear;
  animation: drawCard 1.5s;
}

.slots,
.cards {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: var(--gap);
  margin-left: auto;
  margin-right: auto;
}

.slots {
  min-width: calc(var(--card-width) * 3 + calc(var(--gap) * 2) + calc(var(--card-padding) * 20));
  max-width: calc(var(--card-width) * 3 + calc(var(--gap) * 2) + calc(var(--card-padding) * 20));
}

.cards {
  gap: 10px;
}

.camps {
  padding-top: var(--gap);
}

.card-size,
.slots div {
  width: var(--card-width);
  height: var(--card-height);
}

.slots div {
  padding: var(--card-padding);
}

.camp-choice:hover,
.card:hover {
  box-shadow: 0 0 20px var(--active);
}

.card:hover {
  animation: tiltCard 2s infinite alternate ease-in-out;
}

.card-error {
  background-color: red;
}

.slots div {
  text-align: center;
  vertical-align: middle;
}

.slot-highlight {
  background-color: var(--success);
}

.damaged-card {
  transition: transform 1s;
  transform: rotate(90deg);
}

.water-wrap {
  position: absolute;
  left: 2%;
  top: 80%;
  display: flex;
  gap: 15px;
  background-color: var(--bg-accent);
  border-radius: 20px;
  padding: 10px;
}

.water-token {
  max-width: 100px;
}

.water-token-cost {
  filter: brightness(50%) sepia(1) hue-rotate(-50deg) saturate(5) contrast(1.2);
}

.water-token:hover {
  filter: drop-shadow(2px 2px white);
  animation: tiltToken 2s infinite alternate ease-in-out;
}

.repositionable {
  position: absolute;
  /* TODO Feels weird or not to slide the move?: transition: top 100ms, left 100ms; */
}

.camps-dialog {
  min-width: calc(var(--card-width) * 3 + 200px);
}

.camps-dialog-wrap {
  margin-left: auto;
  margin-right: auto;
  max-width: calc(var(--card-width) * 3 + 50px);
}

.camp-choice-wrap {
  display: inline-block;
  margin: 0 5px 0 5px;
}

.camp-choice {
  filter: saturate(50%);
}

.camp-choice-sel {
  outline: 5px solid var(--success);
  filter: brightness(120%) saturate(100%);
}
